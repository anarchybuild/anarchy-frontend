"use strict";
"use client";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DirectPayment = DirectPayment;
const jsx_runtime_1 = require("react/jsx-runtime");
const utils_js_1 = require("../../../../chains/utils.js");
const address_js_1 = require("../../../../utils/address.js");
const CustomThemeProvider_js_1 = require("../../../core/design-system/CustomThemeProvider.js");
const useActiveAccount_js_1 = require("../../../core/hooks/wallets/useActiveAccount.js");
const wallet_js_1 = require("../../../core/utils/wallet.js");
const ConnectButton_js_1 = require("../ConnectWallet/ConnectButton.js");
const PoweredByTW_js_1 = require("../ConnectWallet/PoweredByTW.js");
const FiatValue_js_1 = require("../ConnectWallet/screens/Buy/swap/FiatValue.js");
const ChainName_js_1 = require("../components/ChainName.js");
const Spacer_js_1 = require("../components/Spacer.js");
const basic_js_1 = require("../components/basic.js");
const buttons_js_1 = require("../components/buttons.js");
const text_js_1 = require("../components/text.js");
const TokenAndChain_js_1 = require("./common/TokenAndChain.js");
const WithHeader_js_1 = require("./common/WithHeader.js");
function DirectPayment({ uiOptions, client, onContinue, connectOptions, }) {
    const activeAccount = (0, useActiveAccount_js_1.useActiveAccount)();
    const chain = (0, utils_js_1.defineChain)(uiOptions.paymentInfo.token.chainId);
    const theme = (0, CustomThemeProvider_js_1.useCustomTheme)();
    const handleContinue = () => {
        onContinue(uiOptions.paymentInfo.amount, uiOptions.paymentInfo.token, uiOptions.paymentInfo.sellerAddress);
    };
    const ensName = (0, wallet_js_1.useEnsName)({
        address: uiOptions.paymentInfo.sellerAddress,
        client,
    });
    const sellerAddress = ensName.data || (0, address_js_1.shortenAddress)(uiOptions.paymentInfo.sellerAddress);
    const buyNow = ((0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", gap: "3xs", children: [(0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "md", color: "primaryButtonText", children: "Buy Now \u00B7" }), (0, jsx_runtime_1.jsx)(FiatValue_js_1.FiatValue, { tokenAmount: uiOptions.paymentInfo.amount, token: uiOptions.paymentInfo.token, chain: chain, client: client, color: "primaryButtonText", size: "md" })] }));
    return ((0, jsx_runtime_1.jsxs)(WithHeader_js_1.WithHeader, { uiOptions: uiOptions, defaultTitle: "Direct Payment", client: client, children: [(0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", center: "y", gap: "3xs", style: {
                    justifyContent: "space-between",
                }, children: [(0, jsx_runtime_1.jsx)(FiatValue_js_1.FiatValue, { tokenAmount: uiOptions.paymentInfo.amount, token: uiOptions.paymentInfo.token, chain: chain, client: client, color: "primaryText", size: "xl", weight: 700 }), (0, jsx_runtime_1.jsx)(basic_js_1.Container, { flex: "row", gap: "3xs", children: (0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "xs", color: "secondaryText", style: {
                                overflow: "hidden",
                                textOverflow: "ellipsis",
                                whiteSpace: "nowrap",
                            }, children: "One-time payment" }) })] }), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "md" }), (0, jsx_runtime_1.jsx)(basic_js_1.Line, {}), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "md" }), (0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [(0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "sm", color: "secondaryText", children: "Sold by" }), (0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "sm", color: "primaryText", style: {
                            fontFamily: "monospace",
                        }, children: sellerAddress })] }), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "xs" }), (0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [(0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "sm", color: "secondaryText", children: "Price" }), (0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "sm", color: "primaryText", style: {
                            fontFamily: "monospace",
                        }, children: `${uiOptions.paymentInfo.amount} ${uiOptions.paymentInfo.token.symbol}` })] }), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "xs" }), (0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [(0, jsx_runtime_1.jsx)(text_js_1.Text, { size: "sm", color: "secondaryText", children: "Network" }), (0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "row", gap: "3xs", center: "y", children: [(0, jsx_runtime_1.jsx)(TokenAndChain_js_1.ChainIcon, { chain: chain, size: "xs", client: client }), (0, jsx_runtime_1.jsx)(ChainName_js_1.ChainName, { chain: chain, client: client, size: "sm", color: "primaryText", short: true, style: {
                                    fontFamily: "monospace",
                                } })] })] }), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "md" }), (0, jsx_runtime_1.jsx)(basic_js_1.Line, {}), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "lg" }), (0, jsx_runtime_1.jsxs)(basic_js_1.Container, { flex: "column", children: [activeAccount ? ((0, jsx_runtime_1.jsx)(buttons_js_1.Button, { variant: "primary", fullWidth: true, onClick: handleContinue, children: buyNow })) : ((0, jsx_runtime_1.jsx)(ConnectButton_js_1.ConnectButton, { client: client, theme: theme, connectButton: {
                            label: buyNow,
                            style: {
                                width: "100%",
                            },
                        }, ...connectOptions })), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "md" }), (0, jsx_runtime_1.jsx)(PoweredByTW_js_1.PoweredByThirdweb, {}), (0, jsx_runtime_1.jsx)(Spacer_js_1.Spacer, { y: "lg" })] })] }));
}
//# sourceMappingURL=DirectPayment.js.map