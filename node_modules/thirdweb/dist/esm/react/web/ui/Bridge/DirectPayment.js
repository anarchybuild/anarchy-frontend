"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { defineChain } from "../../../../chains/utils.js";
import { shortenAddress } from "../../../../utils/address.js";
import { useCustomTheme } from "../../../core/design-system/CustomThemeProvider.js";
import { useActiveAccount } from "../../../core/hooks/wallets/useActiveAccount.js";
import { useEnsName } from "../../../core/utils/wallet.js";
import { ConnectButton } from "../ConnectWallet/ConnectButton.js";
import { PoweredByThirdweb } from "../ConnectWallet/PoweredByTW.js";
import { FiatValue } from "../ConnectWallet/screens/Buy/swap/FiatValue.js";
import { ChainName } from "../components/ChainName.js";
import { Spacer } from "../components/Spacer.js";
import { Container, Line } from "../components/basic.js";
import { Button } from "../components/buttons.js";
import { Text } from "../components/text.js";
import { ChainIcon } from "./common/TokenAndChain.js";
import { WithHeader } from "./common/WithHeader.js";
export function DirectPayment({ uiOptions, client, onContinue, connectOptions, }) {
    const activeAccount = useActiveAccount();
    const chain = defineChain(uiOptions.paymentInfo.token.chainId);
    const theme = useCustomTheme();
    const handleContinue = () => {
        onContinue(uiOptions.paymentInfo.amount, uiOptions.paymentInfo.token, uiOptions.paymentInfo.sellerAddress);
    };
    const ensName = useEnsName({
        address: uiOptions.paymentInfo.sellerAddress,
        client,
    });
    const sellerAddress = ensName.data || shortenAddress(uiOptions.paymentInfo.sellerAddress);
    const buyNow = (_jsxs(Container, { flex: "row", gap: "3xs", children: [_jsx(Text, { size: "md", color: "primaryButtonText", children: "Buy Now \u00B7" }), _jsx(FiatValue, { tokenAmount: uiOptions.paymentInfo.amount, token: uiOptions.paymentInfo.token, chain: chain, client: client, color: "primaryButtonText", size: "md" })] }));
    return (_jsxs(WithHeader, { uiOptions: uiOptions, defaultTitle: "Direct Payment", client: client, children: [_jsxs(Container, { flex: "row", center: "y", gap: "3xs", style: {
                    justifyContent: "space-between",
                }, children: [_jsx(FiatValue, { tokenAmount: uiOptions.paymentInfo.amount, token: uiOptions.paymentInfo.token, chain: chain, client: client, color: "primaryText", size: "xl", weight: 700 }), _jsx(Container, { flex: "row", gap: "3xs", children: _jsx(Text, { size: "xs", color: "secondaryText", style: {
                                overflow: "hidden",
                                textOverflow: "ellipsis",
                                whiteSpace: "nowrap",
                            }, children: "One-time payment" }) })] }), _jsx(Spacer, { y: "md" }), _jsx(Line, {}), _jsx(Spacer, { y: "md" }), _jsxs(Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [_jsx(Text, { size: "sm", color: "secondaryText", children: "Sold by" }), _jsx(Text, { size: "sm", color: "primaryText", style: {
                            fontFamily: "monospace",
                        }, children: sellerAddress })] }), _jsx(Spacer, { y: "xs" }), _jsxs(Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [_jsx(Text, { size: "sm", color: "secondaryText", children: "Price" }), _jsx(Text, { size: "sm", color: "primaryText", style: {
                            fontFamily: "monospace",
                        }, children: `${uiOptions.paymentInfo.amount} ${uiOptions.paymentInfo.token.symbol}` })] }), _jsx(Spacer, { y: "xs" }), _jsxs(Container, { flex: "row", style: {
                    justifyContent: "space-between",
                    alignItems: "center",
                }, children: [_jsx(Text, { size: "sm", color: "secondaryText", children: "Network" }), _jsxs(Container, { flex: "row", gap: "3xs", center: "y", children: [_jsx(ChainIcon, { chain: chain, size: "xs", client: client }), _jsx(ChainName, { chain: chain, client: client, size: "sm", color: "primaryText", short: true, style: {
                                    fontFamily: "monospace",
                                } })] })] }), _jsx(Spacer, { y: "md" }), _jsx(Line, {}), _jsx(Spacer, { y: "lg" }), _jsxs(Container, { flex: "column", children: [activeAccount ? (_jsx(Button, { variant: "primary", fullWidth: true, onClick: handleContinue, children: buyNow })) : (_jsx(ConnectButton, { client: client, theme: theme, connectButton: {
                            label: buyNow,
                            style: {
                                width: "100%",
                            },
                        }, ...connectOptions })), _jsx(Spacer, { y: "md" }), _jsx(PoweredByThirdweb, {}), _jsx(Spacer, { y: "lg" })] })] }));
}
//# sourceMappingURL=DirectPayment.js.map